---
phase: 21-known-issue-fixes
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - components/HeroStatic.vue
autonomous: true

must_haves:
  truths:
    - "Hero image does not cause Lighthouse 'incorrect aspect ratio' warning"
    - "Hero section displays without visible layout shift"
    - "Hero still fills viewport correctly with object-cover"
  artifacts:
    - path: "components/HeroStatic.vue"
      provides: "Hero component with correct image attributes"
      contains: "NuxtImg"
      not_contains: 'width="1920"'
  key_links:
    - from: "components/HeroStatic.vue"
      to: "CSS container dimensions"
      via: "h-[80vh] min-h-[600px] on parent section"
      pattern: "h-\\[80vh\\]"
---

<objective>
Fix hero image aspect ratio warning by removing conflicting width/height attributes from NuxtImg.

Purpose: The hero container already has explicit dimensions (`h-[80vh] min-h-[600px]`) that prevent CLS. The width="1920" height="1080" attributes declare a 16:9 ratio but the actual image (crane-building-1920w.jpg) is 1920x1441 (~4:3). With `object-cover`, these attributes are ignored for sizing but cause Lighthouse to flag "image displayed at incorrect aspect ratio."

Output: HeroStatic.vue with width/height attributes removed, relying on container dimensions for CLS prevention.
</objective>

<execution_context>
@/Users/austinlaw/.claude/get-shit-done/workflows/execute-plan.md
@/Users/austinlaw/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/21-known-issue-fixes/21-RESEARCH.md
@components/HeroStatic.vue
</context>

<tasks>

<task type="auto">
  <name>Task 1: Remove width/height from hero NuxtImg</name>
  <files>components/HeroStatic.vue</files>
  <action>
In HeroStatic.vue, locate the NuxtImg element (around lines 14-29) and remove the width and height attributes:

BEFORE:
```vue
<NuxtImg
  :src="backgroundImage"
  :alt="backgroundAlt"
  class="absolute inset-0 w-full h-full object-cover"
  ...
  width="1920"
  height="1080"
  ...
/>
```

AFTER:
```vue
<NuxtImg
  :src="backgroundImage"
  :alt="backgroundAlt"
  class="absolute inset-0 w-full h-full object-cover"
  format="webp"
  loading="eager"
  fetchpriority="high"
  :modifiers="{ quality: 85 }"
  sizes="(max-width: 768px) 100vw, (max-width: 1200px) 80vw, 1920px"
/>
```

WHY: The parent section with `h-[80vh] min-h-[600px]` already defines hero dimensions, preventing CLS. The width/height attributes are ignored by object-cover but cause Lighthouse to report incorrect aspect ratio since they don't match the actual image dimensions (1920x1441).

Add a comment above the NuxtImg explaining why width/height are intentionally omitted:
```vue
<!-- NOTE: width/height intentionally omitted - parent container (h-[80vh] min-h-[600px]) prevents CLS.
     Adding width/height would cause Lighthouse "incorrect aspect ratio" warning since
     actual image (1920x1441) differs from any declared dimensions. -->
```
  </action>
  <verify>
1. Run `npm run build` - should complete without errors
2. Run dev server and verify hero displays correctly at http://localhost:3000
3. Grep for width/height in HeroStatic.vue to confirm removal: `grep -n 'width="1920"' components/HeroStatic.vue` should return nothing
  </verify>
  <done>
- HeroStatic.vue no longer has width="1920" height="1080" on NuxtImg
- Comment explains the intentional omission
- Hero displays correctly in browser
- Build completes successfully
  </done>
</task>

<task type="auto">
  <name>Task 2: Verify CLS prevention</name>
  <files>components/HeroStatic.vue</files>
  <action>
Verify the hero section still prevents CLS by confirming container dimensions:

1. Check that the parent section has explicit height classes:
   - `h-[80vh]` (80% viewport height)
   - `min-h-[600px]` (minimum 600px)

2. Check that the image wrapper div has:
   - `absolute inset-0 w-full h-full` (fills parent)

3. Run a quick visual test:
   - Load homepage in browser
   - Use Chrome DevTools Performance tab
   - Record page load and check Layout Shift events
   - CLS should be 0 or near-0 for hero section

If any container dimension classes are missing, they would need to be added, but based on research they are already present.
  </action>
  <verify>
1. Grep confirms container dimensions: `grep -n "h-\[80vh\]" components/HeroStatic.vue`
2. Visual inspection shows no layout shift during page load
3. Dev server shows hero rendering correctly
  </verify>
  <done>
- Container dimensions confirmed (h-[80vh] min-h-[600px])
- Visual test shows no layout shift
- Hero renders correctly without width/height attributes
  </done>
</task>

</tasks>

<verification>
After completing all tasks:
1. `npm run build` completes successfully
2. `grep 'width="1920"' components/HeroStatic.vue` returns no matches
3. Homepage hero displays correctly without visible layout shift
4. Explanatory comment exists above NuxtImg
</verification>

<success_criteria>
- Hero image no longer has width/height attributes that conflict with actual image dimensions
- Container dimensions (h-[80vh] min-h-[600px]) continue to prevent CLS
- Build passes without errors
- FIX-01 requirement satisfied
</success_criteria>

<output>
After completion, create `.planning/phases/21-known-issue-fixes/21-01-SUMMARY.md`
</output>
