---
phase: 18-core-micro-interactions
plan: 05
type: execute
wave: 1
depends_on: []
files_modified:
  - assets/css/main.css
  - components/AppHeader.vue
  - components/AppFooter.vue
  - components/ProjectCard.vue
  - components/ServiceCard.vue
  - components/TeamMember.vue
autonomous: true

must_haves:
  truths:
    - "Global focus-visible styles are defined in main.css with high contrast"
    - "All focusable elements show visible focus indicators on keyboard navigation"
    - "Focus indicators are NOT visible on mouse click (focus:not(:focus-visible) reset)"
    - "Focus indicators meet WCAG AA contrast requirements (3:1 minimum)"
    - "Component-level focus-visible rings complement global styles"
  artifacts:
    - path: "assets/css/main.css"
      provides: "Global focus-visible styles"
      contains: "*:focus-visible"
    - path: "components/AppHeader.vue"
      provides: "Navigation link focus indicators"
      contains: "focus-visible:ring-2"
  key_links:
    - from: "Global CSS"
      to: "All focusable elements"
      via: "Universal *:focus-visible selector"
      pattern: "\\*:focus-visible"
    - from: "Component-level focus rings"
      to: "Specific interactive elements"
      via: "focus-visible:ring-* utilities"
      pattern: "focus-visible:ring-2"
---

<objective>
Verify and enhance focus indicators across all interactive elements to ensure high-contrast, visible focus rings for keyboard navigation. This implements MICRO-06 (focus indicators visible) requirement.

Purpose: Focus indicators are essential for keyboard navigation accessibility. Phase 17 established global focus-visible styles in main.css. This plan verifies consistent implementation across all components.

Output: All focusable elements have visible, high-contrast focus indicators that appear on keyboard navigation but not on mouse click.
</objective>

<execution_context>
@/Users/austinlaw/.claude/get-shit-done/workflows/execute-plan.md
@/Users/austinlaw/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/REQUIREMENTS.md
@.planning/phases/17-accessibility-foundation/17-01-SUMMARY.md
@.planning/phases/18-core-micro-interactions/18-core-micro-interactions-RESEARCH.md

# Current state from Phase 17 audit:
- Global CSS: main.css lines 87-100 define `*:focus-visible` with 2px outline
- Primary color `rgb(30 64 175)` on white background = 8.2:1 contrast (WCAG AAA)
- Component-level: `focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2`
- `*:focus:not(:focus-visible)` reset hides focus on mouse click
- Skip link has enhanced focus styles (3px outline + box-shadow)

# Status: Well implemented, consistent across components
# Task: Verify and document, add missing focus indicators if found
</context>

<tasks>

<task type="auto">
  <name>Verify global focus-visible styles in main.css</name>
  <files>assets/css/main.css</files>
  <action>
    1. Review existing focus-visible styles (lines 87-100)
    2. Verify the following patterns exist:
       - Universal selector: `*, *::before, *::after`
       - Focus-visible outline: `outline: 2px solid rgb(30 64 175)`
       - Outline offset: `outline-offset: 2px`
       - Mouse click reset: `*:focus:not(:focus-visible) { outline: none; }`
    3. Verify skip link enhanced styles (lines 102-107):
       - `outline: 3px solid white`
       - `box-shadow: 0 0 0 4px rgb(30 64 175)`

    If any styles are missing, add them. If all present, document in summary.

    DO NOT modify existing focus-visible styles unless they're incorrect.
    DO NOT change the primary color or contrast values (8.2:1 exceeds WCAG AA).
  </action>
  <verify>
    1. `grep -A5 "\\*:focus-visible" assets/css/main.css` shows the universal focus styles
    2. `grep "focus:not(:focus-visible)" assets/css/main.css` shows the mouse click reset
    3. `grep "skip-link" assets/css/main.css` or `grep "focus:\\:not-sr-only" assets/css/main.css` shows enhanced skip link styles
    4. Contrast check: Primary color on white = 8.2:1 (meets WCAG AAA)
  </verify>
  <done>
    Global focus-visible styles are properly defined with high contrast and mouse click reset
  </done>
</task>

<task type="auto">
  <name>Audit component-level focus indicators on navigation elements</name>
  <files>components/AppHeader.vue, components/AppFooter.vue</files>
  <action>
    1. Check AppHeader.vue for focus-visible classes on navigation links (lines ~24-25):
       - Should have: `focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2`
       - Should have: `rounded-lg px-2 py-1` for adequate hit target
    2. Check AppFooter.vue for focus-visible classes on links:
       - Should have: `focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2`
       - Should have: `rounded px-2 py-1` or similar for hit target

    If focus-visible classes are missing on any interactive elements, add them:
    ```vue
    focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 rounded-lg px-2 py-1
    ```

    DO NOT add focus-visible to non-interactive elements (spans, divs without handlers).
  </action>
  <verify>
    1. `grep "focus-visible:ring-2" components/AppHeader.vue components/AppFooter.vue` returns matches on all links
    2. `grep "rounded" components/AppHeader.vue components/AppFooter.vue | grep -E "px-2|py-1"` shows hit target padding
    3. `npm run dev` starts without errors
    4. Keyboard test: Tab through navigation, verify focus rings appear on all links
  </verify>
  <done>
    All navigation links have component-level focus-visible rings with adequate hit targets
  </done>
</task>

<task type="auto">
  <name>Audit component-level focus indicators on card components</name>
  <files>components/ProjectCard.vue, components/ServiceCard.vue, components/TeamMember.vue</files>
  <action>
    1. Check ProjectCard.vue for focus-visible classes (line 5):
       - Should have: `focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2`
    2. Check ServiceCard.vue for focus-visible classes (line 4):
       - Should have: `focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2`
    3. Check TeamMember.vue for focus-visible classes (line 2):
       - Should have: `focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2` on root element
       - Check contact link buttons (lines 41, 49, 59) for focus-visible classes

    If focus-visible classes are missing on card root elements or interactive children, add them:
    ```vue
    focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2
    ```

    DO NOT add focus-visible to non-interactive card elements (images, divs, spans without handlers).
  </action>
  <verify>
    1. `grep "focus-visible:ring-2" components/ProjectCard.vue components/ServiceCard.vue components/TeamMember.vue` returns matches
    2. `npm run dev` starts without errors
    3. Keyboard test: Tab through card links and contact buttons, verify focus rings appear
  </verify>
  <done>
    All card components have focus-visible rings on interactive elements
  </done>
</task>

<task type="auto">
  <name>Document focus indicator implementation and create summary</name>
  <files>.planning/phases/18-core-micro-interactions/18-05-SUMMARY.md</files>
  <action>
    Create summary document with:

    1. Global focus-visible styles (main.css)
       - Universal selector implementation
       - Contrast ratio verification (8.2:1)
       - Mouse click reset implementation

    2. Component-level focus indicators audit
       - AppHeader.vue: Navigation links with hit targets
       - AppFooter.vue: Footer links with hit targets
       - ProjectCard.vue: Card link focus ring
       - ServiceCard.vue: Card link focus ring
       - TeamMember.vue: Card root + contact button focus rings

    3. Focus indicator consistency
       - All use `focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2`
       - All have adequate hit targets (rounded-lg px-2 py-1 minimum)
       - Skip link has enhanced styles (3px outline + box-shadow)

    4. Any missing focus indicators found and added
    5. Deviations from plan (if any)

    Format as markdown with code examples for each component.
  </action>
  <verify>
    1. File `.planning/phases/18-core-micro-interactions/18-05-SUMMARY.md` exists
    2. Summary contains global styles section
    3. Summary contains component audit section
    4. Summary documents all components with focus indicators
  </verify>
  <done>
    Focus indicator implementation documented with global styles and component audit
  </done>
</task>

</tasks>

<verification>
After all tasks complete, verify:
1. `npm run dev` starts without errors
2. Tab through page: all interactive elements show visible focus ring
3. Click with mouse: focus ring does NOT appear on clicked elements
4. All focus rings use consistent styling (ring-2, ring-primary, ring-offset-2)
5. All interactive elements have adequate hit targets (minimum 44x44px where applicable)
6. Focus ring contrast meets WCAG AA (3:1 minimum, currently 8.2:1 - AAA)
</verification>

<success_criteria>
1. Global focus-visible styles properly defined in main.css
2. All navigation links have component-level focus-visible rings
3. All card links and buttons have component-level focus-visible rings
4. Focus indicators appear on keyboard navigation, not on mouse click
5. All focus indicators meet WCAG AA contrast requirements (8.2:1 achieved)
</success_criteria>

<output>
After completion, create `.planning/phases/18-core-micro-interactions/18-05-SUMMARY.md` with:
- Global focus-visible styles verification
- Component-level focus indicator audit results
- Any missing focus indicators found and added
- Contrast ratio verification results
- Deviations from plan (if any)
</output>
