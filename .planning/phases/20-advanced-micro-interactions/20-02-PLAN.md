---
phase: 20-advanced-micro-interactions
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - components/StatCounter.vue
autonomous: true

must_haves:
  truths:
    - "Stats counter animates (count-up) when visible in viewport"
    - "Reduced-motion users see instant value (no count-up animation)"
    - "Counter animates only once (doesn't restart when scrolling)"
    - "Number formatting with prefix/suffix/decimals works correctly"
  artifacts:
    - path: "components/StatCounter.vue"
      provides: "Stats counter with reduced-motion support"
      contains: "usePreferredReducedMotion import, reduced motion check"
  key_links:
    - from: "components/StatCounter.vue"
      to: "@vueuse/core"
      via: "usePreferredReducedMotion import"
      pattern: "usePreferredReducedMotion.*from.*@vueuse/core"
    - from: "components/StatCounter.vue"
      to: "composables/useScrollReveal.ts"
      via: "useScrollReveal import for viewport detection"
      pattern: "useScrollReveal.*isVisible"
---

<objective>
Add reduced-motion support to StatCounter component so motion-sensitive users see instant values instead of count-up animation.

Purpose: Accessible stats counter that respects user preferences while providing engaging animation for others
Output: Enhanced StatCounter with usePreferredReducedMotion check, instant display for reduced-motion users
</objective>

<execution_context>
@/Users/austinlaw/.claude/get-shit-done/workflows/execute-plan.md
@/Users/austinlaw/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/STATE.md
@.planning/REQUIREMENTS.md
@.planning/phases/20-advanced-micro-interactions/20-RESEARCH.md
@.planning/phases/19-page-transitions/19-01-SUMMARY.md

@components/StatCounter.vue
@composables/useScrollReveal.ts
@composables/usePageTransition.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add reduced-motion support to StatCounter</name>
  <files>components/StatCounter.vue</files>
  <action>
    Update components/StatCounter.vue to respect prefers-reduced-motion:

    1. Import usePreferredReducedMotion from @vueuse/core:
       Add: import { usePreferredReducedMotion } from '@vueuse/core'

    2. Initialize reduced motion detection in script setup:
       const { prefersReducedMotion } = usePreferredReducedMotion()

    3. Update animate() function:
       - Check if prefersReducedMotion.value is true
       - If true: set animatedValue.value = props.value instantly (no animation)
       - If false: run existing requestAnimationFrame animation

    4. Update watch(isVisible) block:
       - If prefersReducedMotion is true, skip animation logic
       - If false, run existing animate() function

    5. Add reduced-motion CSS in <style scoped>:
       - Add @media (prefers-reduced-motion: reduce) block
       - Set transition: opacity 0.3s ease (remove transform)
       - Set transform: none !important (override default translateY)

    Per RESEARCH.md lines 612-719 (enhanced StatCounter with reduced motion)

    DO NOT remove the count-up animation (only disable it for reduced-motion users).
    DO NOT change the 2000ms duration (works well for large numbers).
  </action>
  <verify>
    1. Check components/StatCounter.vue imports usePreferredReducedMotion
    2. Check animate() function has reduced-motion check
    3. Test with OS reduced motion enabled: counter should show value instantly
    4. Test with reduced motion disabled: counter should animate from 0 to final value
  </verify>
  <done>
    StatCounter checks prefersReducedMotion, shows instant value for reduced-motion users, animates count-up for others
  </done>
</task>

</tasks>

<verification>
1. Stats counter animates from 0 to final value when scrolling into viewport
2. Reduced-motion users see final value instantly (no count-up animation)
3. Counter animates only once (hasAnimated flag prevents restart)
4. Number formatting with prefix/suffix/decimals displays correctly
5. Easing function (ease-out quart) provides smooth deceleration
</verification>

<success_criteria>
- StatCounter imports and uses usePreferredReducedMotion from @vueuse/core
- Reduced-motion users see instant value (no requestAnimationFrame loop)
- Non-reduced-motion users see smooth count-up animation (2000ms duration)
- CSS includes @media (prefers-reduced-motion: reduce) block with transform: none
- hasAnimated flag prevents re-animation on scroll
</success_criteria>

<output>
After completion, create `.planning/phases/20-advanced-micro-interactions/20-02-SUMMARY.md`
</output>
