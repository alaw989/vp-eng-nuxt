---
phase: 07-section-polish---projects
plan: 02
type: execute
wave: 2
depends_on: ["07-01"]
files_modified:
  - pages/projects/[slug].vue
autonomous: true

must_haves:
  truths:
    - "Project detail page displays full content with proper information hierarchy"
    - "Header bar shows client, location, year, completion date metadata near title"
    - "Rich text content preserves WordPress formatting (headings, lists, paragraphs)"
    - "Content organized into sections: Overview, Gallery, Details, Services"
    - "Note: Team/Awards sections not implemented - data not available in WordPress API"
    - "Related projects section appears at bottom with same-category projects"
    - "Breadcrumbs navigation shows Projects > Current Project"
  artifacts:
    - path: "pages/projects/[slug].vue"
      provides: "Project detail page with header, content, gallery, and related projects"
      min_lines: 350
  key_links:
    - from: "pages/projects/[slug].vue"
      to: "/api/projects/[slug]"
      via: "useFetch for project data"
      pattern: "useFetch.*api/projects"
    - from: "pages/projects/[slug].vue"
      to: "LazyProjectGallery"
      via: "Component prop binding"
      pattern: ":images=.*projectImages"
    - from: "pages/projects/[slug].vue"
      to: "AppBreadcrumbs"
      via: "Breadcrumbs prop for navigation"
      pattern: ":breadcrumbs=.*projectBreadcrumbs"
---

<objective>
Polish project detail page layout with proper content sections, header metadata bar, rich text display, and related projects section.

Purpose: Project detail pages need to showcase project information clearly with proper hierarchy. The header should display key metadata (client, location, year) prominently. Content sections should be organized (Overview, Gallery, Details, Services) with preserved WordPress rich text formatting. Related projects at bottom encourage exploration.

Note on Team/Awards sections: CONTEXT.md specifies sections as "Overview, Gallery, Details, Team, Awards" but current WordPress API response does not include team_members or awards data. This plan implements Overview, Gallery, Details, Services sections (Services exists in API). If Team/Awards data should be displayed, WordPress API must be extended to provide this data.

Output: Enhanced project detail page with metadata header, organized content sections, preserved rich text formatting, and working related projects section.
</objective>

<execution_context>
@/home/deck/.claude/get-shit-done/workflows/execute-plan.md
@/home/deck/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/07-section-polish---projects/07-CONTEXT.md
@pages/projects/[slug].vue
@pages/projects/index.vue
@components/ProjectGallery.vue
@components/AppBreadcrumbs.vue
</context>

<tasks>

<task type="auto">
  <name>Organize content sections with proper headers and spacing</name>
  <files>pages/projects/[slug].vue</files>
  <action>
    Verify and refine content section structure in pages/projects/[slug].vue:

    1. Verify header section structure (lines 31-61):
       - Back link to /projects with arrow icon
       - Category badge, location, year in flex row with icons
       - h1 title with proper font sizing (text-4xl md:text-5xl)
       - Description/subtitle with opacity for hierarchy

    2. Verify main content layout (lines 74-150):
       - Two-column grid: lg:grid-cols-3 with 2/1 split
       - Main content column (lg:col-span-2) for overview, details
       - Sidebar column for stats, CTA

    3. Organize content sections with clear h2/h3 headings:
       - "Project Overview" (h2, line 78)
       - "Services Provided" (h3, line 90)
       - "Project Stats" sidebar section (h3, line 108)
       - Add "Project Details" section if additional fields exist

    4. Add section spacing with AppSection components:
       - Header: bg-primary-dark with lg padding
       - Gallery: bg-neutral-100 with md padding
       - Details: bg-white with animate-on-scroll
       - Related: bg-neutral-50 with animate-on-scroll

    Keep existing prose styling for rich text content.
  </action>
  <verify>npm run dev, navigate to any project detail page (e.g., /projects/tampa-marina-complex), verify section headers display with proper spacing, check content flows in correct hierarchy</verify>
  <done>Content organized into clear sections with descriptive headers, proper spacing between sections, two-column layout on desktop with sidebar, prose styling applied to rich text</done>
</task>

<task type="auto">
  <name>Verify header metadata bar and breadcrumb navigation</name>
  <files>pages/projects/[slug].vue</files>
  <action>
    Verify and refine header metadata display:

    1. Verify breadcrumbs component (lines 24-29):
       - AppBreadcrumbs imported and used
       - projectBreadcrumbs computed returns [{ title: 'Projects', to: '/projects' }, { title: project.title }]
       - Breadcrumbs styled with border-bottom on white bg

    2. Verify metadata badges (lines 41-53):
       - Category: secondary background, rounded-full, font-semibold
       - Location: map-marker icon with text-white/80
       - Year: calendar icon with text-white/80
       - All in flex row with gap-3

    3. Verify title hierarchy (lines 54-59):
       - h1: text-4xl md:text-5xl, font-display, font-bold
       - Description: text-xl with opacity-90 for secondary emphasis

    4. Check back-to-projects link (lines 34-40):
       - NuxtLink to /projects with arrow-left icon
       - text-white/80 hover:text-white transition
       - Positioned above metadata for clear navigation

    5. Add structured data for project metadata if missing:
       - Verify useJsonld includes Project schema or CreativeWork
       - Include locationCreated, dateCreated fields
  </action>
  <verify>Navigate to project detail, verify breadcrumbs show Projects > [Project Name], verify category/location/year badges display in header, verify back link returns to /projects</verify>
  <done>Breadcrumb navigation works correctly, metadata badges display with icons, title hierarchy is visually clear, structured data includes project metadata, back link functions properly</done>
</task>

<task type="auto">
  <name>Verify related projects section and enrich functionality</name>
  <files>pages/projects/[slug].vue</files>
  <action>
    Verify and enrich related projects functionality:

    1. Verify relatedProjects computation (lines 343-372):
       - Currently uses static array - update to be dynamic
       - Filter by same category as current project
       - Exclude current project from results
       - Limit to 3 results

    2. Add computed for related projects:
       ```typescript
       const relatedProjects = computed(() => {
         if (!project.value) return []
         const currentCategory = project.value?.acf?.category
         // This should come from the projects listing data
         // For now, keep static but ensure category matches
         return staticRelatedProjects.filter(p =>
           p.category === currentCategory && p.slug !== slug
         ).slice(0, 3)
       })
       ```

    3. Verify hasRelatedProjects condition (line 335):
       - Only shows section when relatedProjects.length > 0

    4. Verify related projects section layout (lines 153-186):
       - Centered heading: "Related Projects"
       - Grid: md:grid-cols-3 for 3 cards
       - Uses ProjectCard component with props
       - "View All Projects" link centered at bottom

    5. Ensure ProjectCard receives all required props:
       - title, slug, description, category, location, year, image
  </action>
  <verify>Navigate to project detail, scroll to related projects section, verify 3 projects display, verify they share category with current project, verify clicking card navigates to that project</verify>
  <done>Related projects section displays up to 3 same-category projects, current project excluded from results, ProjectCard components render correctly with all props, "View All Projects" link returns to listing</done>
</task>

</tasks>

<verification>
1. Build completes without errors: npm run build
2. Project detail page loads with correct content
3. Breadcrumbs navigation works and shows correct path
4. Header metadata displays (category, location, year)
5. Content sections organized with proper headings (Overview, Gallery, Details, Services)
6. Note: Team/Awards sections not verified - data not available in WordPress API
7. Rich text content preserves formatting
8. Related projects section shows same-category projects
9. All navigation links function correctly
</verification>

<success_criteria>
- Project detail page displays with proper information hierarchy
- Header shows key metadata (category, location, year) prominently
- Breadcrumbs navigation shows Projects > Current Project
- Content organized into clear sections (Overview, Gallery, Details, Services)
- Note: Team/Awards sections deferred - WordPress API does not provide this data
- Rich text content preserves WordPress formatting
- Related projects section displays same-category projects
- All navigation links function correctly
</success_criteria>

<output>
After completion, create `.planning/phases/07-section-polish---projects/07-02-SUMMARY.md`
</output>
