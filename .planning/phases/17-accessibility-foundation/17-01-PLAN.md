---
phase: 17-accessibility-foundation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - package.json
  - nuxt.config.ts
  - layouts/default.vue
autonomous: true

must_haves:
  truths:
    - "@nuxt/a11y module is installed and configured in nuxt.config.ts"
    - "Skip link works correctly (appears on focus, jumps to #main-content)"
    - "Development console shows accessibility hints from axe-core"
    - "Semantic HTML structure is audited and documented"
    - "Headings hierarchy follows logical order (h1 -> h2 -> h3)"
    - "Landmarks (banner, navigation, main, contentinfo) are properly used"
  artifacts:
    - path: "package.json"
      provides: "@nuxt/a11y dependency declaration"
      contains: '"@nuxt/a11y":'
    - path: "nuxt.config.ts"
      provides: "@nuxt/a11y module configuration"
      contains: "'@nuxt/a11y'"
    - path: "layouts/default.vue"
      provides: "Skip link and semantic structure"
      contains: 'Skip to main content'
    - path: ".planning/phases/17-accessibility-foundation/17-01-SUMMARY.md"
      provides: "Semantic HTML audit findings"
      contains: "semantic HTML audit"
  key_links:
    - from: "nuxt.config.ts"
      to: "@nuxt/a11y module"
      via: "modules array configuration"
      pattern: "@nuxt/a11y"
    - from: "layouts/default.vue"
      to: "#main-content"
      via: "skip link href attribute"
      pattern: 'href="#main-content"'
---

<objective>
Install @nuxt/a11y module for development accessibility hinting and audit/verify the semantic HTML structure and skip link implementation. This establishes the foundation for WCAG 2.1 AA compliance by providing real-time accessibility feedback during development.

Purpose: A11Y-01 (skip link), A11Y-07 (semantic HTML) require proper skip link implementation and semantic structure verification. @nuxt/a11y provides automated axe-core integration for catching accessibility issues during development.

Output: Configured @nuxt/a11y module with verified skip link, semantic HTML audit document, and documented headings hierarchy.
</objective>

<execution_context>
@/home/deck/.claude/get-shit-done/workflows/execute-plan.md
@/home/deck/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/REQUIREMENTS.md
@.planning/phases/17-accessibility-foundation/17-RESEARCH.md

# Research findings from 17-RESEARCH.md:
- Skip link already exists in layouts/default.vue (lines 9-14) - uses Tailwind sr-only correctly
- @nuxt/a11y provides DevTools integration and axe-core automated testing
- @vueuse/nuxt is already installed (12.0.1) - provides useFocusTrap for later plans
- Semantic HTML uses roles: banner (header), main (main), contentinfo (footer)
- HeroSlider.vue already has aria-live region for slide announcements

# Current state from codebase review:
- layouts/default.vue: Has skip link, role="banner", role="main", role="contentinfo"
- AppHeader.vue: Has role="navigation", aria-label, aria-current, aria-expanded, aria-controls
- BackToTop.vue: Has aria-label with scroll progress
- HeroSlider.vue: Has aria-label, aria-live="polite", keyboard navigation (arrows, Home, End)
- ProjectGallery.vue: Has role="dialog", aria-modal, aria-label, custom focus trap (to be replaced by VueUse)

# Key files to audit:
- layouts/default.vue (skip link already present)
- components/AppHeader.vue (navigation landmarks)
- components/AppFooter.vue (contentinfo landmark)
- pages/*.vue (headings hierarchy)
</context>

<tasks>

<task type="auto">
  <name>Install and configure @nuxt/a11y module</name>
  <files>package.json, nuxt.config.ts</files>
  <action>
    1. Run `npm install -D @nuxt/a11y` to add the accessibility module
    2. Add '@@nuxt/a11y' to the modules array in nuxt.config.ts (after @vueuse/nuxt, before @nuxt/icon)
    3. Add a11y configuration object to nuxt.config.ts:
       ```typescript
       a11y: {
         // Enable axe-core integration for automated accessibility testing
         axe: {
           // Run axe-core in development mode
           runInDevelopment: true,
           // Disable in production (performance)
           runInProduction: false,
           // WCAG 2.1 Level AA compliance
           WCAG: '2.1AA',
         },
       }
       ```
    4. DO NOT modify any other modules or configuration

    The module provides:
    - DevTools integration for accessibility hints
    - axe-core automated testing during development
    - Vue component inspection for ARIA issues
  </action>
  <verify>
    1. `grep '"@nuxt/a11y"' package.json` returns the dependency line
    2. `grep -A5 "@nuxt/a11y" nuxt.config.ts` shows module registration
    3. `npm run dev` starts without errors
    4. Open DevTools -> Nuxt -> A11y panel shows accessibility hints
  </verify>
  <done>
    @nuxt/a11y is installed, configured in nuxt.config.ts, and accessible in DevTools
  </done>
</task>

<task type="auto">
  <name>Verify and enhance skip link implementation</name>
  <files>layouts/default.vue</files>
  <action>
    1. Review current skip link in layouts/default.vue (lines 9-14)
    2. Verify the implementation follows best practices:
       - Uses `href="#main-content"` to target main content
       - Uses Tailwind `sr-only` class for screen reader visibility
       - Uses `focus:not-sr-only` to show on keyboard focus
       - Has visible positioning (`focus:top-4 focus:left-4`)
       - Has sufficient contrast (`focus:bg-primary focus:text-white`)
    3. Verify main element has matching `id="main-content"` (line 17)
    4. Verify main element has `tabindex="-1"` for skip link targeting
    5. Verify main element has `role="main"` for landmark navigation
    6. If any issues found, correct them. Current implementation appears correct based on review.

    DO NOT change the skip link styling unless it fails WCAG requirements.
  </action>
  <verify>
    1. `grep -A2 'href="#main-content"' layouts/default.vue` shows skip link
    2. `grep 'id="main-content"' layouts/default.vue` shows target element
    3. Run `npm run dev` and test: Tab into page, skip link should appear
    4. Press Enter on skip link, focus should move to main content
  </verify>
  <done>
    Skip link works correctly: visible on focus, jumps to main content, focusable
  </done>
</task>

<task type="auto">
  <name>Audit semantic HTML structure and headings hierarchy</name>
  <files>.planning/phases/17-accessibility-foundation/17-01-SUMMARY.md</files>
  <action>
    Create semantic HTML audit by reviewing all pages and components:

    1. Check each page component in pages/ directory:
       - Ensure single h1 per page (page title)
       - Verify headings hierarchy (h1 -> h2 -> h3, no skipped levels)
       - Check for proper landmark usage (header, nav, main, footer, section, article)

    2. Check components for semantic structure:
       - AppHeader.vue: role="banner" (implicit in header), role="navigation"
       - AppFooter.vue: role="contentinfo" (implicit in footer)
       - AppSection.vue: proper section/heading structure

    3. Create audit document at .planning/phases/17-accessibility-foundation/17-01-SUMMARY.md with:
       - Headings hierarchy for each major page
       - Landmark inventory (banner, navigation, main, contentinfo)
       - Any accessibility issues found by @nuxt/a11y in DevTools
       - Recommendations for fixes (deferred to later plans)

    4. Document what's already working well:
       - Skip link implementation
       - Landmark roles in layout
       - aria-labels on navigation links
       - aria-current for active page indication

    Run `npm run dev` and check DevTools -> Nuxt -> A11y panel for issues.
  </action>
  <verify>
    1. File .planning/phases/17-accessibility-foundation/17-01-SUMMARY.md exists
    2. Audit contains headings hierarchy for all major pages
    3. Audit contains landmark inventory
    4. DevTools A11y panel was checked (document any findings)
  </verify>
  <done>
    Semantic HTML audit document exists with headings hierarchy, landmarks, and accessibility findings
  </done>
</task>

</tasks>

<verification>
After all tasks complete, verify:
1. `npm run dev` starts without TypeScript or build errors
2. Open DevTools -> Nuxt -> A11y panel shows accessibility hints are working
3. Tab navigation shows skip link on first focus
4. Pressing Enter on skip link moves focus to main content
5. Audit document is created with semantic structure analysis
</verification>

<success_criteria>
1. @nuxt/a11y module installed and configured with axe-core integration
2. Skip link verified working (appears on Tab, jumps to main on Enter)
3. Semantic HTML audit document created with headings hierarchy and landmarks
4. Development environment provides real-time accessibility feedback via DevTools
5. No new accessibility violations introduced (checked via axe-core hints)
</success_criteria>

<output>
After completion, create `.planning/phases/17-accessibility-foundation/17-01-SUMMARY.md` with:
- @nuxt/a11y configuration details
- Skip link verification results
- Semantic HTML audit findings (headings hierarchy, landmarks, issues)
- Any accessibility violations detected by axe-core
- Recommendations for subsequent plans
</output>
