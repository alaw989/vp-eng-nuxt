---
phase: 09-section-polish---about---team
plan: 03
type: execute
wave: 2
depends_on: ["09-02"]
files_modified:
  - server/api/team.get.ts
  - components/TeamMember.vue
  - pages/about.vue
autonomous: true

must_haves:
  truths:
    - "TeamMember component displays optimized photos with proper srcset"
    - "TeamMember NuxtImg uses responsive sizes and quality prop"
    - "Team API fallback data references optimized photo paths"
    - "Team cards display with consistent 4:5 aspect ratio"
    - "Hover effects work on team member photos (scale-105)"
    - "Contact links (email, phone) display with proper hover states"
  artifacts:
    - path: "server/api/team.get.ts"
      provides: "Team data API with optimized photo path references"
      min_lines: 50
    - path: "components/TeamMember.vue"
      provides: "Team member card component with optimized NuxtImg display"
      min_lines: 80
  key_links:
    - from: "server/api/team.get.ts"
      to: "public/images/team/"
      via: "Static fallback photo paths pointing to optimized images"
      pattern: "photo.*images/team"
    - from: "components/TeamMember.vue"
      to: "NuxtImg component"
      via: "Image optimization with format, quality, sizes props"
      pattern: "NuxtImg.*format.*quality.*sizes"
    - from: "pages/about.vue"
      to: "TeamMember component"
      via: "v-for iteration over leadership computed property"
      pattern: "TeamMember.*:photo"
---

<objective>
Update team data paths and TeamMember component to use optimized photos from plan 09-02, ensuring proper responsive image loading with srcset, quality settings, and consistent aspect ratios.

Purpose: With optimized team photos now available in /public/images/team/, the team API and TeamMember component need updates to reference the new optimized paths. The TeamMember component should leverage NuxtImg's responsive capabilities with proper sizes, quality, and srcset generation for optimal performance. Team cards should display with consistent 4:5 aspect ratios matching the optimized photos.

Output: Updated team API pointing to optimized photo paths, TeamMember component using NuxtImg with proper responsive settings, team cards displaying with consistent sizing and proper hover effects.
</objective>

<execution_context>
@/home/deck/.claude/get-shit-done/workflows/execute-plan.md
@/home/deck/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/09-section-polish---about---team/09-RESEARCH.md
@.planning/phases/09-section-polish---about---team/09-02-SUMMARY.md
@server/api/team.get.ts
@components/TeamMember.vue
@pages/about.vue
</context>

<tasks>

<task type="auto">
  <name>Update team API to reference optimized photo paths</name>
  <files>server/api/team.get.ts</files>
  <action>
    Update server/api/team.get.ts static fallback team data to use optimized photo paths:

    1. Update photo paths in staticTeam array (lines 10-50):
       Change from: '/images/team-1.jpg'
       Change to: '/images/team/team-1-800w.webp'

       Apply this pattern to all 4 team members:
       - Vincent P. Rodriguez: '/images/team/team-1-800w.webp'
       - Jennifer Martinez: '/images/team/team-2-800w.webp'
       - David Kim: '/images/team/team-3-800w.webp'
       - Sarah Thompson: '/images/team/team-4-800w.webp'

    2. Verify the updated paths:
       Each photo should now reference:
       - Directory: /images/team/ (not /images/)
       - Filename: team-N-800w.webp format
       - WebP format for modern browser support (NuxtImg handles fallback)

    3. No changes needed to:
       - Team member names, titles, bios (content is correct)
       - Email and phone fields (contact info is correct)
       - API structure and error handling (working correctly)
       - WordPress API proxy logic (for future dynamic data)

    The file should now reference optimized images from plan 09-02.
  </action>
  <verify>Read server/api/team.get.ts, verify all 4 static fallback photo paths now use /images/team/team-N-800w.webp format, confirm no references to old /images/team-N.jpg paths remain</verify>
  <done>Static team data updated with optimized photo paths, all 4 members reference /images/team/team-N-800w.webp, no old photo path references remain</done>
</task>

<task type="auto">
  <name>Update TeamMember component with optimized NuxtImg settings</name>
  <files>components/TeamMember.vue</files>
  <action>
    Update components/TeamMember.vue to use optimized NuxtImg settings:

    1. Add quality prop to NuxtImg (line ~10):
       Current: format="webp"
       Updated: format="webp" quality="85"

       This ensures consistent quality across all team photos.

    2. Update sizes prop for better responsive performance (line ~12):
       Current: sizes="(max-width: 768px) 100vw, (max-width: 1024px) 50vw, (max-width: 1280px) 33vw, 25vw"
       Updated: sizes="(max-width: 768px) 100vw, (max-width: 1024px) 50vw, 25vw"

       Simplified since TeamMember uses 4-column grid on large screens (25vw per card).

    3. Update width/height props to match optimized variants (lines ~13-14):
       Current: width="400" height="500"
       Updated: width="800" height="1000"

       This matches the 800w optimized variant and provides better quality for retina displays. NuxtImg will automatically scale down via CSS.

    4. Verify placeholder prop is present (line ~15):
       Ensure: placeholder
       This enables blur-up LQIP for better perceived performance.

    5. Verify hover effect on photo (line ~9):
       Ensure: class="w-full h-full object-cover hover:scale-105 transition-transform duration-500"
       This provides smooth zoom effect on hover.

    6. Verify alt text is descriptive (line ~8):
       Current: :alt="`${name}, ${title}${bio ? ' - VP Associates team member' : ''}`"
       This is correct - includes name, title, and context.

    7. Verify fallback placeholder icon (lines ~17-19):
       The mdi:account-tie icon with gradient background is correct for missing photos.

    No structural changes needed - component is well-implemented. Only NuxtImg prop updates.
  </action>
  <verify>Read components/TeamMember.vue, verify NuxtImg has quality="85" prop, verify sizes prop simplified for 4-column grid, verify width="800" height="1000" matches optimized variants, verify placeholder prop is present, verify hover:scale-105 class on image</verify>
  <done>TeamMember NuxtImg updated with quality="85", sizes simplified for 4-column grid, width/height set to 800/1000 for optimized variants, placeholder prop present for LQIP, hover effect verified with scale-105 and duration-500</done>
</task>

<task type="auto">
  <name>Verify team photo display on About page</name>
  <files>pages/about.vue</files>
  <action>
    Verify pages/about.vue correctly uses updated team data and TeamMember component:

    1. Verify team data fetching (line ~257):
       Ensure: const { data: teamResponse, pending: teamPending, error: teamError } = await useFetch('/api/team')
       This is correct - fetches from updated API.

    2. Verify leadership computed property (lines ~261-271):
       Ensure photo field is passed from API response:
       photo: member.acf?.photo || '/images/team-1.jpg'
       This will now use the optimized path from the API.

    3. Verify TeamMember component usage (lines ~138-147):
       Ensure :photo prop is passed:
       <TeamMember
         :photo="member.photo"
         ...other props
       />

    4. Verify grid layout (line ~118):
       Ensure: grid md:grid-cols-2 lg:grid-cols-4 gap-8
       This provides responsive 2-column on tablet, 4-column on desktop.

    5. Verify loading skeleton (lines ~120-122):
       Ensure: <TeamMemberSkeleton v-for="i in 4" :key="`skeleton-${i}`" />
       This shows 4 skeleton cards while loading.

    6. Verify error state (lines ~125-134):
       Ensure error displays with retry button that refreshes the page.

    No changes should be needed to pages/about.vue - it correctly uses the team API and TeamMember component. The photo path updates in the API will automatically flow through to the display.

    7. Test the display:
       - Run npm run dev
       - Navigate to http://localhost:3000/about
       - Scroll to Leadership Team section
       - Verify all 4 team members display with photos
       - Check Network tab for actual file sizes loaded
       - Verify WebP format is being used (not JPG)
       - Verify aspect ratios are consistent
  </action>
  <verify>npm run dev, navigate to /about, verify team photos load and display correctly, check Network tab for file sizes (should be 30-40KB each), verify WebP format loaded, verify consistent aspect ratios across all cards, verify hover effects work, verify mobile responsive layout</verify>
  <done>Team photos load correctly from optimized paths, WebP format used in modern browsers, file sizes under 50KB each, aspect ratios consistent across all cards, hover effects work properly, mobile responsive layout displays correctly with 1-column on mobile, 2-column on tablet, 4-column on desktop</done>
</task>

</tasks>

<verification>
1. Build completes without errors: npm run build
2. Team API static fallback uses optimized photo paths
3. All 4 team members reference /images/team/team-N-800w.webp
4. TeamMember component has quality="85" prop on NuxtImg
5. TeamMember sizes prop simplified for 4-column grid
6. TeamMember width/height set to 800/1000 for optimized variants
7. Team photos load as WebP format under 50KB each
8. All team cards display with consistent 4:5 aspect ratios
9. Hover effects work on team member photos
10. Mobile responsive layout works correctly (1/2/4 columns)
</verification>

<success_criteria>
- Team API updated with optimized photo paths
- TeamMember component uses optimized NuxtImg settings
- Team photos load from /images/team/ directory
- WebP format used with JPG fallback
- All team photos under 50KB file size
- Consistent 4:5 aspect ratio across all cards
- Hover effects work on photos
- Responsive layout (1/2/4 columns) works correctly
- No layout shift from inconsistent image sizes
</success_criteria>

<output>
After completion, create `.planning/phases/09-section-polish---about---team/09-03-SUMMARY.md`
</output>
