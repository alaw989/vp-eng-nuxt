---
phase: 08-section-polish---services
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - pages/services/index.vue
  - components/ServiceCard.vue
autonomous: true

must_haves:
  truths:
    - "Services listing page displays all 10 services in responsive 2-column grid"
    - "Horizontal scrollable category filter pills are positioned above the grid"
    - "Active category filter shows primary background with scale-105 effect"
    - "Inactive category filters show white background with border and hover effect"
    - "Filter selection updates URL query param (?category=structural) for shareability"
    - "URL state persists on page reload with correct category pre-selected"
    - "Scrollable filter container hides scrollbar but remains functional"
    - "Service cards display icon, title, standard badge, description, and full capabilities list"
  artifacts:
    - path: "pages/services/index.vue"
      provides: "Services listing page with category filtering, URL state, horizontal scrollable pills"
      min_lines: 250
    - path: "components/ServiceCard.vue"
      provides: "Service card component with icon, title, standard, description, capabilities, Learn More link"
      min_lines: 40
  key_links:
    - from: "pages/services/index.vue"
      to: "route.query"
      via: "useRoute() composable for URL state sync"
      pattern: "route\.query\.category"
    - from: "pages/services/index.vue"
      to: "navigateTo"
      via: "URL update on category filter change"
      pattern: "navigateTo.*query.*category"
    - from: "pages/services/index.vue"
      to: "allServices filteredServices"
      via: "computed property for category filtering"
      pattern: "computed.*filter.*category"
---

<objective>
Polish services listing page with horizontal scrollable category pill buttons, proper URL-based filtering state, and verified card display with full capabilities list.

Purpose: The services listing page is the primary browse interface for service offerings. Users need to filter by category type (Structural Design, Design & Detailing, Inspection, Marine & Coastal) with URL state for shareability. The 2-column grid layout is appropriate for abstract service offerings (no grid/list toggle needed as per user decision). Horizontal scrollable pills provide a modern filtering experience.

Output: Enhanced services listing page with working category filter pills, URL-based state persistence, horizontal scrollable filter container, and responsive 2-column card grid displaying full capabilities.
</objective>

<execution_context>
@/home/deck/.claude/get-shit-done/workflows/execute-plan.md
@/home/deck/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/08-section-polish---services/08-CONTEXT.md
@.planning/phases/08-section-polish---services/08-RESEARCH.md
@pages/services/index.vue
@components/ServiceCard.vue
@pages/projects/index.vue
</context>

<tasks>

<task type="auto">
  <name>Add service category data and URL-based filter state</name>
  <files>pages/services/index.vue</files>
  <action>
    Modify pages/services/index.vue to add category filtering:

    1. Define service category interface and array above allServices (after line 218):
       interface ServiceCategory {
         id: string
         name: string
       }

       const serviceCategories: ServiceCategory[] = [
         { id: 'all', name: 'All Services' },
         { id: 'structural', name: 'Structural Design' },
         { id: 'design', name: 'Design & Detailing' },
         { id: 'inspection', name: 'Inspection' },
         { id: 'marine', name: 'Marine & Coastal' }
       ]

    2. Create service-to-category mapping helper function:
       function getServiceCategory(slug: string): string | null {
         const categoryMap: Record<string, string> = {
           'structural-steel-design': 'structural',
           'concrete-design': 'structural',
           'masonry-design': 'structural',
           'wood-design': 'structural',
           'foundation-design': 'structural',
           'steel-connection-design': 'design',
           'cad-3d-modeling': 'design',
           'steel-detailing': 'design',
           'inspection-services': 'inspection',
           'seawall-design': 'marine'
         }
         return categoryMap[slug] || null
       }

    3. Add filter state with URL initialization (after allServices array, line ~375):
       const route = useRoute()
       const activeCategory = ref((route.query.category as string) || 'all')

    4. Add setCategory function to update filter and URL:
       function setCategory(categoryId: string) {
         activeCategory.value = categoryId
         const query: Record<string, string> = {}
         if (categoryId !== 'all') query.category = categoryId
         navigateTo({ query }, { replace: true })
       }

    5. Add filteredServices computed property:
       const filteredServices = computed(() => {
         if (activeCategory.value === 'all') return allServices
         return allServices.filter(service =>
           getServiceCategory(service.slug) === activeCategory.value
         )
       })
  </action>
  <verify>npm run dev, navigate to http://localhost:3000/services, click category pill, verify URL updates (?category=structural), verify filtered results show only Structural Design services, reload page with category in URL, verify correct category pre-selected</verify>
  <done>Category array defines 5 categories, service-to-category mapping covers all 10 services, activeCategory initializes from URL query param, setCategory updates URL with navigateTo, filteredServices computed returns correct subset based on active category</done>
</task>

<task type="auto">
  <name>Add horizontal scrollable category pills filter UI</name>
  <files>pages/services/index.vue</files>
  <action>
    Add category filter UI to services listing page:

    1. Insert filter section between page header and Services Overview (after line 13, before line 16):
       <!-- Category Filter Section -->
       <AppSection bg-color="neutral-50" padding="md">
         <div class="container">
           <div class="flex items-center gap-3 overflow-x-auto pb-2 scrollbar-hide snap-x snap-mandatory">
             <button
               v-for="category in serviceCategories"
               :key="category.id"
               @click="setCategory(category.id)"
               :class="[
                 'px-6 py-2.5 rounded-full font-semibold transition-all duration-300 whitespace-nowrap snap-start',
                 activeCategory === category.id
                   ? 'bg-primary text-white shadow-lg scale-105'
                   : 'bg-white text-neutral-700 hover:bg-neutral-100 border border-neutral-200'
               ]"
               :aria-pressed="activeCategory === category.id"
               :aria-label="`Filter by ${category.name}`"
             >
               {{ category.name }}
             </button>
           </div>
           <div class="text-center text-neutral-600 mt-4">
             <span aria-live="polite">{{ filteredServices.length }} service{{ filteredServices.length !== 1 ? 's' : '' }}</span>
           </div>
         </div>
       </AppSection>

    2. Add scrollbar-hide style at bottom of script section (before closing </script>):
       <style scoped>
       .scrollbar-hide {
         -ms-overflow-style: none;
         scrollbar-width: none;
       }
       .scrollbar-hide::-webkit-scrollbar {
         display: none;
       }
       </style>

    3. Update services grid v-for to use filteredServices instead of allServices (line ~28):
       Change: v-for="service in allServices"
       To: v-for="service in filteredServices"

    4. Add empty state when no services match filter (after services grid div, before </AppSection> on line ~64):
       <div v-else class="text-center py-16">
         <Icon name="mdi:folder-open-outline" class="w-16 h-16 text-neutral-300 mx-auto mb-4" />
         <p class="text-xl text-neutral-500">No services found in this category.</p>
       </div>
  </action>
  <verify>npm run dev, navigate to /services, verify category pills display in horizontal scroll row, verify scrollbar is hidden but scrollable, click each pill and verify active state styling (bg-primary, scale-105), verify results count updates, verify empty state shows when category has no services (test by modifying mapping temporarily)</verify>
  <done>Category pills display with horizontal scroll, scrollbar is hidden via CSS, active pill shows primary background with shadow and scale effect, inactive pills show white with border, results count displays filtered services count, empty state displays when no matches</done>
</task>

<task type="auto">
  <name>Ensure ServiceCard displays full capabilities list</name>
  <files>components/ServiceCard.vue</files>
  <action>
    Verify ServiceCard component displays capabilities (existing listing page inline cards, not this component - per user decision to keep capabilities on listing page):

    The listing page (pages/services/index.vue) already displays capabilities inline in cards (lines 48-53). The ServiceCard component is used on detail pages for "Other/Related Services" and should NOT show capabilities (keeps cards concise).

    Verify ServiceCard.vue has correct props:
    - title: string
    - slug: string
    - description: string
    - icon: string

    Current component is correct - it shows icon, title, description, and "Learn more" link. Capabilities are intentionally omitted for related services cards.

    No changes needed to ServiceCard.vue - this task is verification-only.
  </action>
  <verify>Read components/ServiceCard.vue, confirm it has title, slug, description, icon props, confirm capabilities are NOT displayed (intentional per user decision)</verify>
  <done>ServiceCard component verified correct - displays icon, title, description, and Learn More link without capabilities list. Capabilities shown on listing page inline cards only.</done>
</task>

</tasks>

<verification>
1. Build completes without errors: npm run build
2. Services listing page displays all 10 services in 2-column grid
3. Category filter pills display in horizontal scrollable row
4. Scrollbar is hidden but scrolling still works
5. Active category shows bg-primary, shadow-lg, scale-105 styling
6. Inactive categories show bg-white with border and hover effect
7. Clicking category updates URL (?category=structural)
8. URL state persists on page reload with correct filter applied
9. Results count updates to show filtered services count
10. Service cards display icon, title, standard badge, description, and full capabilities list
</verification>

<success_criteria>
- Services listing page displays all services in responsive 2-column grid
- Horizontal scrollable category filter pills positioned above grid
- Active filter styling matches Phase 7 pattern (bg-primary, shadow-lg, scale-105)
- URL state syncs with ?category query parameter
- Filter state persists across page reloads
- Results count accurately reflects filtered services
- Service cards show full capabilities list (6-7 items per service)
- Horizontal scroll container hides scrollbar via CSS
- Empty state displays when no services match filter
</success_criteria>

<output>
After completion, create `.planning/phases/08-section-polish---services/08-01-SUMMARY.md`
</output>
