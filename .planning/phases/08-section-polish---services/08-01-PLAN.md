---
phase: 08-section-polish---services
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - pages/services/index.vue
  - components/ServiceCard.vue
autonomous: true

must_haves:
  truths:
    - "Services listing page displays all 10 services in responsive 2-column grid"
    - "Horizontal scrollable category filter pills are positioned above the grid"
    - "Active category filter shows primary background with scale-105 effect"
    - "Inactive category filters show white background with border and hover effect"
    - "Filter selection updates URL query param (?category=structural) for shareability"
    - "URL state persists on page reload with correct category pre-selected"
    - "Scrollable filter container hides scrollbar but remains functional"
    - "Service cards display icon, title, standard badge, description, and full capabilities list"
    - "Category filter pills use transition-all duration-300 for smooth state changes"
    - "ServiceCard component has hover:-translate-y-1 lift effect with transition-all duration-300"
    - "All interactive elements have focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2"
    - "Reduced motion users see color transitions without transform animations"
  artifacts:
    - path: "pages/services/index.vue"
      provides: "Services listing page with category filtering, URL state, horizontal scrollable pills, micro-interaction hover states"
      min_lines: 250
    - path: "components/ServiceCard.vue"
      provides: "Service card component with icon, title, standard, description, capabilities, Learn More link, hover lift effect"
      min_lines: 40
  key_links:
    - from: "pages/services/index.vue"
      to: "route.query"
      via: "useRoute() composable for URL state sync"
      pattern: "route\.query\.category"
    - from: "pages/services/index.vue"
      to: "navigateTo"
      via: "URL update on category filter change"
      pattern: "navigateTo.*query.*category"
    - from: "pages/services/index.vue"
      to: "allServices filteredServices"
      via: "computed property for category filtering"
      pattern: "computed.*filter.*category"
    - from: "components/ServiceCard.vue"
      to: "assets/css/main.css"
      via: "Reduced motion support for hover effects"
      pattern: "hover\:-translate-y-1.*@media.*prefers-reduced-motion"
---

<objective>
Polish services listing page with horizontal scrollable category pill buttons, proper URL-based filtering state, verified card display with full capabilities list, and Phase 18 micro-interaction patterns.

Purpose: The services listing page is the primary browse interface for service offerings. Users need to filter by category type (Structural Design, Design & Detailing, Inspection, Marine & Coastal) with URL state for shareability. The 2-column grid layout is appropriate for abstract service offerings (no grid/list toggle needed as per user decision). Horizontal scrollable pills provide a modern filtering experience. Micro-interactions enhance usability with hover states, focus indicators, and reduced motion support.

Output: Enhanced services listing page with working category filter pills, URL-based state persistence, horizontal scrollable filter container, responsive 2-column card grid displaying full capabilities, and consistent hover/focus states per Phase 18 patterns.
</objective>

<execution_context>
@/Users/austinlaw/.claude/get-shit-done/workflows/execute-plan.md
@/Users/austinlaw/.claude/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/08-section-polish---services/08-CONTEXT.md
@.planning/phases/08-section-polish---services/08-RESEARCH.md
@.planning/phases/18-core-micro-interactions/18-01-SUMMARY.md
@pages/services/index.vue
@components/ServiceCard.vue
@pages/projects/index.vue
@assets/css/main.css
</context>

<tasks>

<task type="auto">
  <name>Add service category data and URL-based filter state</name>
  <files>pages/services/index.vue</files>
  <action>
    Modify pages/services/index.vue to add category filtering:

    1. Define service category interface and array above allServices (after line 218):
       interface ServiceCategory {
         id: string
         name: string
       }

       const serviceCategories: ServiceCategory[] = [
         { id: 'all', name: 'All Services' },
         { id: 'structural', name: 'Structural Design' },
         { id: 'design', name: 'Design & Detailing' },
         { id: 'inspection', name: 'Inspection' },
         { id: 'marine', name: 'Marine & Coastal' }
       ]

    2. Create service-to-category mapping helper function:
       function getServiceCategory(slug: string): string | null {
         const categoryMap: Record<string, string> = {
           'structural-steel-design': 'structural',
           'concrete-design': 'structural',
           'masonry-design': 'structural',
           'wood-design': 'structural',
           'foundation-design': 'structural',
           'steel-connection-design': 'design',
           'cad-3d-modeling': 'design',
           'steel-detailing': 'design',
           'inspection-services': 'inspection',
           'seawall-design': 'marine'
         }
         return categoryMap[slug] || null
       }

    3. Add filter state with URL initialization (after allServices array, line ~375):
       const route = useRoute()
       const activeCategory = ref((route.query.category as string) || 'all')

    4. Add setCategory function to update filter and URL:
       function setCategory(categoryId: string) {
         activeCategory.value = categoryId
         const query: Record<string, string> = {}
         if (categoryId !== 'all') query.category = categoryId
         navigateTo({ query }, { replace: true })
       }

    5. Add filteredServices computed property:
       const filteredServices = computed(() => {
         if (activeCategory.value === 'all') return allServices
         return allServices.filter(service =>
           getServiceCategory(service.slug) === activeCategory.value
         )
       })
  </action>
  <verify>npm run dev, navigate to http://localhost:3000/services, click category pill, verify URL updates (?category=structural), verify filtered results show only Structural Design services, reload page with category in URL, verify correct category pre-selected</verify>
  <done>Category array defines 5 categories, service-to-category mapping covers all 10 services, activeCategory initializes from URL query param, setCategory updates URL with navigateTo, filteredServices computed returns correct subset based on active category</done>
</task>

<task type="auto">
  <name>Add horizontal scrollable category pills filter UI with micro-interactions</name>
  <files>pages/services/index.vue</files>
  <action>
    Add category filter UI to services listing page with Phase 18 micro-interaction patterns:

    1. Insert filter section between page header and Services Overview (after line 13, before line 16):
       <!-- Category Filter Section -->
       <AppSection bg-color="neutral-50" padding="md">
         <div class="container">
           <div class="flex items-center gap-3 overflow-x-auto pb-2 scrollbar-hide snap-x snap-mandatory">
             <button
               v-for="category in serviceCategories"
               :key="category.id"
               @click="setCategory(category.id)"
               :class="[
                 'px-6 py-2.5 rounded-full font-semibold transition-all duration-300 whitespace-nowrap snap-start',
                 'focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2',
                 activeCategory === category.id
                   ? 'bg-primary text-white shadow-lg scale-105'
                   : 'bg-white text-neutral-700 hover:bg-neutral-100 border border-neutral-200'
               ]"
               :aria-pressed="activeCategory === category.id"
               :aria-label="`Filter by ${category.name}`"
             >
               {{ category.name }}
             </button>
           </div>
           <div class="text-center text-neutral-600 mt-4">
             <span aria-live="polite">{{ filteredServices.length }} service{{ filteredServices.length !== 1 ? 's' : '' }}</span>
           </div>
         </div>
       </AppSection>

    2. Add scrollbar-hide style at bottom of script section (before closing </script>):
       <style scoped>
       .scrollbar-hide {
         -ms-overflow-style: none;
         scrollbar-width: none;
       }
       .scrollbar-hide::-webkit-scrollbar {
         display: none;
       }
       </style>

    3. Update services grid v-for to use filteredServices instead of allServices (line ~28):
       Change: v-for="service in allServices"
       To: v-for="service in filteredServices"

    4. Add empty state when no services match filter (after services grid div, before </AppSection> on line ~64):
       <div v-else class="text-center py-16">
         <Icon name="mdi:folder-open-outline" class="w-16 h-16 text-neutral-300 mx-auto mb-4" />
         <p class="text-xl text-neutral-500">No services found in this category.</p>
       </div>

    Micro-interaction notes:
    - transition-all duration-300 provides smooth state changes
    - scale-105 on active pill provides visual feedback
    - focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 ensures keyboard accessibility
    - hover:bg-neutral-100 on inactive pills provides hover feedback
    - Reduced motion support from main.css disables scale transform while preserving color transitions
  </action>
  <verify>npm run dev, navigate to /services, verify category pills display in horizontal scroll row, verify scrollbar is hidden but scrollable, click each pill and verify active state styling (bg-primary, scale-105), verify results count updates, verify empty state shows when category has no services (test by modifying mapping temporarily), verify focus-visible ring appears when tabbing to buttons</verify>
  <done>Category pills display with horizontal scroll, scrollbar is hidden via CSS, active pill shows primary background with shadow and scale effect, inactive pills show white with border, results count displays filtered services count, empty state displays when no matches, focus-visible rings appear on keyboard navigation, hover states work with 300ms timing</done>
</task>

<task type="auto">
  <name>Verify ServiceCard has hover lift effect and focus indicators</name>
  <files>components/ServiceCard.vue</files>
  <action>
    Verify ServiceCard component has Phase 18 micro-interaction patterns:

    The listing page (pages/services/index.vue) already displays capabilities inline in cards (lines 48-53). The ServiceCard component is used on detail pages for "Other/Related Services" and should NOT show capabilities (keeps cards concise).

    Verify ServiceCard.vue has correct micro-interaction patterns:
    - hover:-translate-y-1 for card lift effect
    - transition-all duration-300 for smooth animation
    - focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 for keyboard navigation
    - group-hover classes for nested element interactions

    Current component should have:
    - NuxtLink wrapper with hover:-translate-y-1, transition-all duration-300, and focus-visible rings
    - group class on NuxtLink for group-hover pattern
    - group-hover:bg-primary on icon box
    - group-hover:text-white on icon
    - group-hover:text-primary on title
    - group-hover:gap-2 on "Learn more" text

    The ServiceCard component should already have these patterns from Phase 18. This task is verification-only to ensure compliance.
  </action>
  <verify>Read components/ServiceCard.vue, confirm it has hover:-translate-y-1, transition-all duration-300, focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2, and group-hover patterns</verify>
  <done>ServiceCard component verified correct - displays icon, title, description, and Learn More link with hover lift effect (hover:-translate-y-1), smooth transitions (duration-300), focus-visible rings for keyboard accessibility, and group-hover patterns for nested element interactions. Capabilities intentionally omitted for related services cards.</done>
</task>

</tasks>

<verification>
1. Build completes without errors: npm run build
2. Services listing page displays all 10 services in 2-column grid
3. Category filter pills display in horizontal scrollable row
4. Scrollbar is hidden but scrolling still works
5. Active category shows bg-primary, shadow-lg, scale-105 styling
6. Inactive categories show bg-white with border and hover effect
7. Clicking category updates URL (?category=structural)
8. URL state persists on page reload with correct filter applied
9. Results count updates to show filtered services count
10. Service cards display icon, title, standard badge, description, and full capabilities list
11. Category pills use transition-all duration-300 for smooth state changes
12. ServiceCard has hover:-translate-y-1 lift effect with proper timing
13. All interactive elements have focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2
14. Reduced motion is respected (transforms disabled, colors preserved)
</verification>

<success_criteria>
- Services listing page displays all services in responsive 2-column grid
- Horizontal scrollable category filter pills positioned above grid
- Active filter styling matches Phase 7 pattern (bg-primary, shadow-lg, scale-105)
- URL state syncs with ?category query parameter
- Filter state persists across page reloads
- Results count accurately reflects filtered services
- Service cards show full capabilities list (6-7 items per service)
- Horizontal scroll container hides scrollbar via CSS
- Empty state displays when no services match filter
- All buttons/links use 300ms duration timing
- ServiceCard has hover:-translate-y-1 lift effect
- Focus-visible rings on all interactive elements
- Reduced motion support preserves colors, disables transforms
</success_criteria>

<output>
After completion, create `.planning/phases/08-section-polish---services/08-01-SUMMARY.md`
</output>
