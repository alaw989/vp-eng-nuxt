---
phase: 19-page-transitions
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - nuxt.config.ts
  - assets/css/main.css
autonomous: true

must_haves:
  truths:
    - "Page transitions use 150ms cross-fade effect (no transforms)"
    - "Layout transitions use 150ms cross-fade effect (no transforms)"
    - "All pages use consistent transition behavior by default"
    - "Transition mode is 'out-in' to ensure leave completes before enter"
  artifacts:
    - path: "nuxt.config.ts"
      contains: "pageTransition"
      contains: "layoutTransition"
    - path: "assets/css/main.css"
      contains: ".page-enter-active"
      contains: ".layout-enter-active"
      min_lines: 20
  key_links:
    - from: "nuxt.config.ts"
      to: "assets/css/main.css"
      via: "pageTransition.name matches CSS class name"
      pattern: "name: 'page'|name: 'layout'"
---

<objective>
Update global page and layout transition configuration to use 150ms cross-fade effect without transforms, providing snappy and responsive navigation feel per user requirement.

Purpose: Current transitions use 300-400ms with translateY/scale transforms. User wants 150ms cross-fade only for snappier feel and simpler, more elegant transitions.

Output: Updated nuxt.config.ts and main.css with 150ms cross-fade transitions.
</objective>

<execution_context>
@/Users/austinlaw/.claude/get-shit-done/workflows/execute-plan.md
@/Users/austinlaw/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/19-page-transitions/19-CONTEXT.md
@.planning/phases/19-page-transitions/19-RESEARCH.md

# Current state
@nuxt.config.ts (lines 77-84: existing pageTransition and layoutTransition config)
@assets/css/main.css (lines 109-152: existing transition styles with transforms)
</context>

<tasks>

<task type="auto">
  <name>Update page transition CSS to 150ms cross-fade</name>
  <files>assets/css/main.css</files>
  <action>
    In assets/css/main.css, update the page transition styles (lines 109-152):

    1. Replace .page-enter-active and .page-leave-active:
       - Change from "all 0.4s/0.3s cubic-bezier(0.16, 1, 0.3, 1)" to "opacity 150ms ease-in-out"
       - Remove all property transitions, only opacity

    2. Replace .page-enter-from and .page-leave-to:
       - Remove transform: translateY() and scale()
       - Keep only opacity: 0

    3. Update .layout-enter-active and .layout-leave-active:
       - Change from "opacity 0.3s ease" to "opacity 150ms ease-in-out"

    4. Remove the .page-transition-* classes (lines 138-152) as they are unused

    Easing choice: Using ease-in-out per Claude's discretion for symmetric feel.

    DO NOT change:
    - Reduced motion styles (lines 157-185) - handled in 19-02
    - Any other CSS in the file
  </action>
  <verify>grep -A 2 "\.page-enter-active" assets/css/main.css shows "transition: opacity 150ms ease-in-out"</verify>
  <done>Page transitions use 150ms cross-fade with no transforms</done>
</task>

<task type="auto">
  <name>Verify transition configuration in nuxt.config.ts</name>
  <files>nuxt.config.ts</files>
  <action>
    In nuxt.config.ts, verify the app.pageTransition and app.layoutTransition configuration (lines 77-84):

    Current configuration is already correct:
    - name: 'page' and name: 'layout' match CSS classes
    - mode: 'out-in' ensures leave completes before enter

    No changes needed - this task confirms the config is correct for the new 150ms transitions.

    If name was different, update to match the CSS class names in main.css.
  </action>
  <verify>grep -A 3 "pageTransition:" nuxt.config.ts shows name: 'page' and mode: 'out-in'</verify>
  <done>nuxt.config.ts transition config matches CSS class names</done>
</task>

<task type="auto">
  <name>Create usePageTransition composable</name>
  <files>composables/usePageTransition.ts</files>
  <action>
    Create composables/usePageTransition.ts with:

    - Import usePreferredReducedMotion from VueUse
    - Export a composable that returns:
      * prefersReducedMotion: Ref<boolean> from VueUse
      * transitionDuration: ComputedRef<string> (always '150ms' per user requirement)
      * transitionEasing: ComputedRef<string> (use 'ease-in-out')

    This composable will be used in 19-02 for reduced motion support and provides
    a central source of truth for transition timing values.

    Pattern from research: VueUse usePreferredReducedMotion is the standard approach.
  </action>
  <verify>test -f composables/usePageTransition.ts && grep -q "usePreferredReducedMotion" composables/usePageTransition.ts</verify>
  <done>usePageTransition composable provides transition configuration values</done>
</task>

</tasks>

<verification>
After completing all tasks:

1. Navigate between pages (Home -> About -> Projects) and observe:
   - Transitions are quick (150ms) not sluggish
   - No translateY or scale effects, pure cross-fade
   - Content fades out then fades in (out-in mode)

2. Check browser DevTools Performance tab:
   - Transition duration is ~150ms

3. Verify nuxt.config.ts has correct transition names matching CSS classes
</verification>

<success_criteria>
1. Page transitions complete in 150ms (measured via DevTools)
2. No transform effects on page transitions (only opacity)
3. Layout transitions use same 150ms cross-fade
4. All routes use consistent default transition behavior
5. nuxt.config.ts transition config matches CSS class names
</success_criteria>

<output>
After completion, create .planning/phases/19-page-transitions/19-01-SUMMARY.md
</output>
