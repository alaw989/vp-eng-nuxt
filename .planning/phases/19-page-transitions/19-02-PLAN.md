---
phase: 19-page-transitions
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - assets/css/main.css
autonomous: true

must_haves:
  truths:
    - "Users with prefers-reduced-motion see 150ms transitions with linear easing (no transforms)"
    - "Reduced motion CSS does NOT set 0.01ms duration (too aggressive)"
    - "All transitions respect OS-level reduced motion preference"
    - "Reduced motion users get simplified transitions (opacity only) not instant switches"
  artifacts:
    - path: "assets/css/main.css"
      contains: "@media (prefers-reduced-motion: reduce)"
      contains: "150ms"
      min_lines: 30
  key_links:
    - from: "@media (prefers-reduced-motion: reduce)"
      to: ".page-enter-active, .page-leave-active"
      via: "CSS media query override"
      pattern: "transition.*150ms.*linear"
---

<objective>
Update reduced motion CSS to use 150ms duration with linear easing and no transforms, respecting user requirement for minimal transitions (not instant switches) for accessibility.

Purpose: Current reduced motion CSS sets 0.01ms duration which is too aggressive. User specified 150ms with simpler effect (no transforms, linear easing) to maintain continuity while respecting preferences.

Output: Updated @media (prefers-reduced-motion: reduce) CSS with 150ms linear transitions.
</objective>

<execution_context>
@/Users/austinlaw/.claude/get-shit-done/workflows/execute-plan.md
@/Users/austinlaw/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/19-page-transitions/19-CONTEXT.md
@.planning/phases/19-page-transitions/19-RESEARCH.md

# Current state
@assets/css/main.css (lines 157-185: current reduced motion CSS with 0.01ms duration)
@composables/usePageTransition.ts (created in 19-01: transition duration reference)
</context>

<tasks>

<task type="auto">
  <name>Update reduced motion CSS for page transitions</name>
  <files>assets/css/main.css</files>
  <action>
    In assets/css/main.css, update the @media (prefers-reduced-motion: reduce) block (lines 157-185):

    1. Change the global selector block (lines 158-165):
       - Remove "transition-duration: 0.01ms !important;"
       - Replace with specific transition durations for page/layout elements only
       - Add page and layout transition overrides:
         ```css
         .page-enter-active,
         .page-leave-active,
         .layout-enter-active,
         .layout-leave-active {
           transition: opacity 150ms linear !important;
         }
         ```

    2. Keep the transform disable rules (lines 167-174) - they prevent any transforms

    3. Keep color transition rules (lines 176-184) - they maintain visual feedback

    Key change: DO NOT use 0.01ms duration. User specified "minimal transition (not instant switch)"
    so we use 150ms with linear easing instead of ease-in-out for reduced motion users.

    Per CONTEXT.md: "Same 150ms duration for reduced-motion users (just simpler effect)"
  </action>
  <verify>grep -A 5 "prefers-reduced-motion: reduce" assets/css/main.css | grep -q "150ms.*linear"</verify>
  <done>Reduced motion CSS uses 150ms linear transitions (not 0.01ms)</done>
</task>

<task type="auto">
  <name>Verify reduced motion prevents transforms on transitions</name>
  <files>assets/css/main.css</files>
  <action>
    In the @media (prefers-reduced-motion: reduce) block, ensure there are rules that
    disable transforms on page/layout transition states:

    Add if not present:
    ```css
    .page-enter-from,
    .page-leave-to,
    .layout-enter-from,
    .layout-leave-to {
      transform: none !important;
    }
    ```

    This ensures that even if the base transition CSS had transforms (which 19-01 removes),
    reduced motion users won't see them.

    This is a safety net - the base transitions in 19-01 have no transforms anyway,
    but this ensures future changes don't accidentally add transforms for reduced motion users.
  </action>
  <verify>grep -A 10 "prefers-reduced-motion: reduce" assets/css/main.css | grep -q "transform: none"</verify>
  <done>Reduced motion CSS prevents transforms on page/layout transitions</done>
</task>

<task type="auto">
  <name>Test reduced motion with OS preference simulation</name>
  <files>assets/css/main.css</files>
  <action>
    Add a CSS comment explaining how to test reduced motion:

    In assets/css/main.css, before the @media (prefers-reduced-motion: reduce) block,
    add a comment:
    ```css
    /* Reduced motion support: 150ms linear transitions (no transforms)
     * Test by enabling "Reduce motion" in OS accessibility settings:
     * - macOS: System Preferences > Accessibility > Display > Reduce motion
     * - Windows: Settings > Ease of Access > Display > Show animations
     * - Linux: GNOME Settings > Universal Access > Reduce Animation
     * Or force in DevTools: Rendering > Emulate CSS media feature > prefers-reduced-motion: reduce
     */
    ```

    This helps future developers test the reduced motion behavior.
  </action>
  <verify>grep -B 2 "prefers-reduced-motion: reduce" assets/css/main.css | grep -q "Test by enabling"</verify>
  <done>CSS comment documents how to test reduced motion</done>
</task>

</tasks>

<verification>
After completing all tasks:

1. Enable "Reduce motion" in OS accessibility settings or DevTools:
   - macOS: System Preferences > Accessibility > Display > Reduce motion
   - DevTools: Rendering > Emulate CSS media feature > prefers-reduced-motion: reduce

2. Navigate between pages and observe:
   - Transitions still occur (150ms) - not instant 0.01ms
   - Transitions use linear easing (snappy, no ease-in-out curve)
   - No transform effects (pure opacity cross-fade)
   - Color transitions on hover still work (visual feedback preserved)

3. Disable reduced motion and verify normal 150ms ease-in-out transitions return

4. Check that color feedback is preserved in reduced mode (hover states still change colors)
</verification>

<success_criteria>
1. Reduced motion users see 150ms transitions (not 0.01ms instant)
2. Reduced motion transitions use linear easing (no ease-in-out curve)
3. No transforms occur in reduced motion mode (opacity only)
4. Color feedback is preserved (hover states still work)
5. CSS comments document how to test reduced motion
</success_criteria>

<output>
After completion, create .planning/phases/19-page-transitions/19-02-SUMMARY.md
</output>
